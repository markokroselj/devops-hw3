apiVersion: v1
data:
  dbsetup.sql: "/*==============================================================*/\n/* DBMS name:      MySQL 5.0                                    */\n/* Created on:     27. 10. 2025 21:29:55                        */\n/*==============================================================*/\n\n/*CREATE DATABASE vehicles_db;*/\nUSE vehicles_db;\n\n\ndrop table if exists Vehicle;\n\ndrop table if exists Type;\n\ndrop table if exists Location;\n\n\n/*==============================================================*/\n/* Table: Location                                              */\n/*==============================================================*/\ncreate table Location\n(\n   Location_ID          int not null auto_increment,\n   Location_name        varchar(100),\n   Location_link        VARCHAR(2048),\n   primary key (Location_ID)\n);\n\n/*==============================================================*/\n/* Table: Type                                                  */\n/*==============================================================*/\ncreate table Type\n(\n   Type_ID              int not null auto_increment,\n   Type                 varchar(25),\n   primary key (Type_ID)\n);\n\n/*==============================================================*/\n/* Table: Vehicle                                               */\n/*==============================================================*/\ncreate table Vehicle\n(\n   Vehicle_ID           int not null auto_increment,\n   Location_ID          int not null,\n   Type_ID              int not null,\n   Name                 varchar(20),\n   primary key (Vehicle_ID)\n);\n\nalter table Vehicle add constraint FK_is foreign key (Type_ID)\n      references Type (Type_ID) on delete restrict on update restrict;\n\nalter table Vehicle add constraint FK_is_at foreign key (Location_ID)\n      references Location (Location_ID) on delete restrict on update restrict;\n      \n/*Insert initial types and locations */     \ninsert into Type (Type) values ('Ship'), ('Booster');\ninsert into Location (Location_name, Location_link) values ('Production Site', 'https://www.openstreetmap.org/export/embed.html?bbox=-97.189444%2C25.985445%2C-97.187444%2C25.987445&layer=mapnik&marker=25.986445%2C-97.188444'),\n ('Launch Site', 'https://www.openstreetmap.org/export/embed.html?bbox=-97.157568%2C25.996227%2C-97.155568%2C25.998227&layer=mapnik&marker=25.997227%2C-97.156568'),\n (\"Massey's Test Site\", \"https://www.openstreetmap.org/export/embed.html?bbox=-97.252483%2C25.948462%2C-97.248483%2C25.952462&layer=mapnik&marker=25.950462%2C-97.250483\");"
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
    io.kompose.service: db
  name: db-cm1
